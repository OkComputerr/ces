# 查询告警规则列表<a name="ZH-CN_TOPIC_0171212605"></a>

## 功能介绍<a name="section66578044"></a>

查询告警规则列表，可以指定分页条件限制结果数量，可以指定排序规则。

## URI<a name="section62331491"></a>

GET /V1.0/\{project\_id\}/alarms

-   参数说明

    **表 1**  参数说明

    <a name="table31681753175455"></a>
    <table><thead align="left"><tr id="row39882175175455"><th class="cellrowborder" valign="top" width="19.99%" id="mcps1.2.4.1.1"><p id="p9230722175455"><a name="p9230722175455"></a><a name="p9230722175455"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="20.93%" id="mcps1.2.4.1.2"><p id="p9490989175455"><a name="p9490989175455"></a><a name="p9490989175455"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="59.08%" id="mcps1.2.4.1.3"><p id="p30572649175455"><a name="p30572649175455"></a><a name="p30572649175455"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row60465501175455"><td class="cellrowborder" valign="top" width="19.99%" headers="mcps1.2.4.1.1 "><p id="p65867442175455"><a name="p65867442175455"></a><a name="p65867442175455"></a>project_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="20.93%" headers="mcps1.2.4.1.2 "><p id="p33662608175455"><a name="p33662608175455"></a><a name="p33662608175455"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="59.08%" headers="mcps1.2.4.1.3 "><p id="p42316702175455"><a name="p42316702175455"></a><a name="p42316702175455"></a>项目ID。</p>
    <p id="p191415137612"><a name="p191415137612"></a><a name="p191415137612"></a>获取方式请参见<a href="获取项目ID.md">获取项目ID</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 2**  查询检索参数

    <a name="table35416756"></a>
    <table><thead align="left"><tr id="row27598891"><th class="cellrowborder" valign="top" width="20.297970202979705%" id="mcps1.2.5.1.1"><p id="p20917673"><a name="p20917673"></a><a name="p20917673"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.22847715228477%" id="mcps1.2.5.1.2"><p id="p16609919"><a name="p16609919"></a><a name="p16609919"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="19.73802619738026%" id="mcps1.2.5.1.3"><p id="p1305739116331"><a name="p1305739116331"></a><a name="p1305739116331"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="44.73552644735527%" id="mcps1.2.5.1.4"><p id="p3226198"><a name="p3226198"></a><a name="p3226198"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row59995477"><td class="cellrowborder" valign="top" width="20.297970202979705%" headers="mcps1.2.5.1.1 "><p id="p3210854694927"><a name="p3210854694927"></a><a name="p3210854694927"></a>start</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.22847715228477%" headers="mcps1.2.5.1.2 "><p id="p5065546194927"><a name="p5065546194927"></a><a name="p5065546194927"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="19.73802619738026%" headers="mcps1.2.5.1.3 "><p id="p5101571116331"><a name="p5101571116331"></a><a name="p5101571116331"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.73552644735527%" headers="mcps1.2.5.1.4 "><p id="p945165694927"><a name="p945165694927"></a><a name="p945165694927"></a>分页起始值，内容为alarm_id。</p>
    </td>
    </tr>
    <tr id="row14620943"><td class="cellrowborder" valign="top" width="20.297970202979705%" headers="mcps1.2.5.1.1 "><p id="p372561594927"><a name="p372561594927"></a><a name="p372561594927"></a>limit</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.22847715228477%" headers="mcps1.2.5.1.2 "><p id="p3333939594927"><a name="p3333939594927"></a><a name="p3333939594927"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="19.73802619738026%" headers="mcps1.2.5.1.3 "><p id="p865595815514"><a name="p865595815514"></a><a name="p865595815514"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.73552644735527%" headers="mcps1.2.5.1.4 "><p id="p1613650494927"><a name="p1613650494927"></a><a name="p1613650494927"></a>取值范围(0,100]，默认值为100</p>
    <p id="p1101081494927"><a name="p1101081494927"></a><a name="p1101081494927"></a>用于限制结果数据条数。</p>
    </td>
    </tr>
    <tr id="row55056607"><td class="cellrowborder" valign="top" width="20.297970202979705%" headers="mcps1.2.5.1.1 "><p id="p4092925294927"><a name="p4092925294927"></a><a name="p4092925294927"></a>order</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.22847715228477%" headers="mcps1.2.5.1.2 "><p id="p2693508294927"><a name="p2693508294927"></a><a name="p2693508294927"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="19.73802619738026%" headers="mcps1.2.5.1.3 "><p id="p4217614016331"><a name="p4217614016331"></a><a name="p4217614016331"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.73552644735527%" headers="mcps1.2.5.1.4 "><p id="p3425803394927"><a name="p3425803394927"></a><a name="p3425803394927"></a>用于标识结果排序方法，时间戳排序。</p>
    <p id="p3988684494927"><a name="p3988684494927"></a><a name="p3988684494927"></a>取值说明，默认值为desc。</p>
    <a name="ul27034705141026"></a><a name="ul27034705141026"></a><ul id="ul27034705141026"><li>asc：升序</li><li>desc：降序</li></ul>
    </td>
    </tr>
    </tbody>
    </table>


-   样例

    请求样例一：查询当前告警规则列表。

    ```
    GET https://{Cloud Eye的endpoint}/V1.0/{project_id}/alarms
    ```

    请求样例二：查询告警规则列表，从alarm\_id为al1441967036681YkazZ0deN开始，结果按时间戳降序保留10条数据。

    ```
    GET https://{Cloud Eye的endpoint}/V1.0/{project_id}/alarms?start=al1441967036681YkazZ0deN&limit=10&order=desc
    ```


## 请求消息<a name="section24112512"></a>

无

## 响应消息<a name="section15686020"></a>

-   响应参数

    **表 3**  响应参数

    <a name="table42286344152742"></a>
    <table><thead align="left"><tr id="row38095364152742"><th class="cellrowborder" valign="top" width="22.86%" id="mcps1.2.4.1.1"><p id="p65825661152742"><a name="p65825661152742"></a><a name="p65825661152742"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="16.520000000000003%" id="mcps1.2.4.1.2"><p id="p36622711152742"><a name="p36622711152742"></a><a name="p36622711152742"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60.62%" id="mcps1.2.4.1.3"><p id="p13649609152742"><a name="p13649609152742"></a><a name="p13649609152742"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row48913836152742"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p2597784152742"><a name="p2597784152742"></a><a name="p2597784152742"></a>metric_alarms</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.520000000000003%" headers="mcps1.2.4.1.2 "><p id="p65521217152742"><a name="p65521217152742"></a><a name="p65521217152742"></a>Array of objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.62%" headers="mcps1.2.4.1.3 "><p id="p5618383152742"><a name="p5618383152742"></a><a name="p5618383152742"></a>告警对象列表。</p>
    <p id="p493519491135"><a name="p493519491135"></a><a name="p493519491135"></a>详细参数请参见<a href="#table10571837131516">表4</a>。</p>
    </td>
    </tr>
    <tr id="row185671917132310"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p244163712152"><a name="p244163712152"></a><a name="p244163712152"></a>meta_data</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.520000000000003%" headers="mcps1.2.4.1.2 "><p id="p64523721512"><a name="p64523721512"></a><a name="p64523721512"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.62%" headers="mcps1.2.4.1.3 "><p id="p645113791514"><a name="p645113791514"></a><a name="p645113791514"></a>查询结果元数据信息，包括分页信息等。</p>
    <p id="p39125515320"><a name="p39125515320"></a><a name="p39125515320"></a>详细参数请参见<a href="#table1933614411408">表10</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 4**  metric\_alarms字段数据结构说明

    <a name="table10571837131516"></a>
    <table><thead align="left"><tr id="row134453716156"><th class="cellrowborder" valign="top" width="22.86%" id="mcps1.2.4.1.1"><p id="p124463713153"><a name="p124463713153"></a><a name="p124463713153"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="16.580000000000002%" id="mcps1.2.4.1.2"><p id="p104453761519"><a name="p104453761519"></a><a name="p104453761519"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60.56%" id="mcps1.2.4.1.3"><p id="p74433718157"><a name="p74433718157"></a><a name="p74433718157"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row248153712151"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p154723714155"><a name="p154723714155"></a><a name="p154723714155"></a>alarm_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p9471437161516"><a name="p9471437161516"></a><a name="p9471437161516"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p1947193719153"><a name="p1947193719153"></a><a name="p1947193719153"></a>告警名称。</p>
    </td>
    </tr>
    <tr id="row1748203712158"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p648113717154"><a name="p648113717154"></a><a name="p648113717154"></a>alarm_description</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p1481237151518"><a name="p1481237151518"></a><a name="p1481237151518"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p124853771516"><a name="p124853771516"></a><a name="p124853771516"></a>告警描述。</p>
    </td>
    </tr>
    <tr id="row19488375152"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p12481237171510"><a name="p12481237171510"></a><a name="p12481237171510"></a>metric</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p984318421173"><a name="p984318421173"></a><a name="p984318421173"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p124813371158"><a name="p124813371158"></a><a name="p124813371158"></a>告警指标。</p>
    <p id="p15984161314122"><a name="p15984161314122"></a><a name="p15984161314122"></a>详细参数请参见<a href="#table19174559133918">表5</a>。</p>
    </td>
    </tr>
    <tr id="row1501437181511"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p0501937171510"><a name="p0501937171510"></a><a name="p0501937171510"></a>condition</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p98879491178"><a name="p98879491178"></a><a name="p98879491178"></a>Object</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p450143711158"><a name="p450143711158"></a><a name="p450143711158"></a>告警触发条件。</p>
    <p id="p1099762313419"><a name="p1099762313419"></a><a name="p1099762313419"></a>详细参数请参见<a href="#table1473091124015">表9</a>。</p>
    </td>
    </tr>
    <tr id="row8350858143220"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p65515377157"><a name="p65515377157"></a><a name="p65515377157"></a>alarm_enabled</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p2552377158"><a name="p2552377158"></a><a name="p2552377158"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p65583771510"><a name="p65583771510"></a><a name="p65583771510"></a>是否启用该条告警。</p>
    </td>
    </tr>
    <tr id="row12949160173313"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p1955037121518"><a name="p1955037121518"></a><a name="p1955037121518"></a>alarm_level</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p185510371158"><a name="p185510371158"></a><a name="p185510371158"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p13551237101518"><a name="p13551237101518"></a><a name="p13551237101518"></a>告警级别，默认为2，级别为1、2、3、4。分别对应紧急、重要、次要、提示。</p>
    </td>
    </tr>
    <tr id="row1287162520368"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p1986042612363"><a name="p1986042612363"></a><a name="p1986042612363"></a>alarm_action_enabled</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p886052617366"><a name="p886052617366"></a><a name="p886052617366"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p886016267365"><a name="p886016267365"></a><a name="p886016267365"></a>是否启用该条告警触发的动作。</p>
    </td>
    </tr>
    <tr id="row253103713155"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p105217374156"><a name="p105217374156"></a><a name="p105217374156"></a>alarm_actions</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p25263719151"><a name="p25263719151"></a><a name="p25263719151"></a>Array of objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p1753183711155"><a name="p1753183711155"></a><a name="p1753183711155"></a>告警触发的动作。</p>
    <p id="p1783765741713"><a name="p1783765741713"></a><a name="p1783765741713"></a>详细参数请参见<a href="#table569133710159">表7</a>。</p>
    </td>
    </tr>
    <tr id="row1755173741512"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p35410376153"><a name="p35410376153"></a><a name="p35410376153"></a>ok_actions</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p105403717151"><a name="p105403717151"></a><a name="p105403717151"></a>Array of objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p1854123711153"><a name="p1854123711153"></a><a name="p1854123711153"></a>告警恢复触发的动作。</p>
    <p id="p2551537141517"><a name="p2551537141517"></a><a name="p2551537141517"></a>详细参数请参见<a href="#table1819115871510">表8</a>。</p>
    </td>
    </tr>
    <tr id="row175611371150"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p145563781512"><a name="p145563781512"></a><a name="p145563781512"></a>alarm_type</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p656153791513"><a name="p656153791513"></a><a name="p656153791513"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p155673741511"><a name="p155673741511"></a><a name="p155673741511"></a>告警类型。</p>
    <a name="ul45401839325"></a><a name="ul45401839325"></a><ul id="ul45401839325"><li>针对事件类型的告警时，告警类型为EVENT.SYS（系统事件）或EVENT.CUSTOM（自定义事件）。</li><li>针对资源分组的告警时，告警类型为RESOURCE_GROUP。</li><li>针对指定资源的告警时，告警类型为MULTI_INSTANCE。</li></ul>
    </td>
    </tr>
    <tr id="row656837171519"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p9561337191516"><a name="p9561337191516"></a><a name="p9561337191516"></a>alarm_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p55623716158"><a name="p55623716158"></a><a name="p55623716158"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p756737131515"><a name="p756737131515"></a><a name="p756737131515"></a>告警规则的ID。</p>
    </td>
    </tr>
    <tr id="row145720371155"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p14561537101512"><a name="p14561537101512"></a><a name="p14561537101512"></a>update_time</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p115613719157"><a name="p115613719157"></a><a name="p115613719157"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p115753721520"><a name="p115753721520"></a><a name="p115753721520"></a>告警状态变更的时间，UNIX时间戳，单位毫秒。</p>
    </td>
    </tr>
    <tr id="row175723717154"><td class="cellrowborder" valign="top" width="22.86%" headers="mcps1.2.4.1.1 "><p id="p1057143761515"><a name="p1057143761515"></a><a name="p1057143761515"></a>alarm_state</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.580000000000002%" headers="mcps1.2.4.1.2 "><p id="p75793721513"><a name="p75793721513"></a><a name="p75793721513"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60.56%" headers="mcps1.2.4.1.3 "><p id="p1957143751513"><a name="p1957143751513"></a><a name="p1957143751513"></a>告警状态，取值说明：</p>
    <a name="ul195793741513"></a><a name="ul195793741513"></a><ul id="ul195793741513"><li>ok：正常</li><li>alarm：告警</li><li>insufficient_data：数据不足</li></ul>
    </td>
    </tr>
    </tbody>
    </table>

    **表 5**  metric字段数据结构说明

    <a name="table19174559133918"></a>
    <table><thead align="left"><tr id="row10174145923910"><th class="cellrowborder" valign="top" width="20.53%" id="mcps1.2.4.1.1"><p id="p117455973917"><a name="p117455973917"></a><a name="p117455973917"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.770000000000001%" id="mcps1.2.4.1.2"><p id="p21751659193910"><a name="p21751659193910"></a><a name="p21751659193910"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="63.7%" id="mcps1.2.4.1.3"><p id="p317575993911"><a name="p317575993911"></a><a name="p317575993911"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1017713594391"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p31773593392"><a name="p31773593392"></a><a name="p31773593392"></a>namespace</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p017765910397"><a name="p017765910397"></a><a name="p017765910397"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p2687838193910"><a name="p2687838193910"></a><a name="p2687838193910"></a>查询服务的命名空间，各服务命名空间请参考<a href="支持监控的服务列表.md">支持监控的服务列表</a>。</p>
    </td>
    </tr>
    <tr id="row717815917396"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p1517812598392"><a name="p1517812598392"></a><a name="p1517812598392"></a>dimensions</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p1117805912397"><a name="p1117805912397"></a><a name="p1117805912397"></a>Array of objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p0178195943915"><a name="p0178195943915"></a><a name="p0178195943915"></a>指标维度列表。</p>
    <p id="p2613429127"><a name="p2613429127"></a><a name="p2613429127"></a>详细参数请参见<a href="#table7554143164419">表6</a>。</p>
    </td>
    </tr>
    <tr id="row95521942102915"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p13623999153639"><a name="p13623999153639"></a><a name="p13623999153639"></a>metric_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p136841954153011"><a name="p136841954153011"></a><a name="p136841954153011"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p1351411315505"><a name="p1351411315505"></a><a name="p1351411315505"></a>指标ID，例如弹性云服务器的监控指标CPU使用率，对应的metric_name为cpu_util。各服务监控指标请参考<a href="支持监控的服务列表.md">支持监控的服务列表</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 6**  dimensions字段数据结构说明

    <a name="table7554143164419"></a>
    <table><thead align="left"><tr id="row1555516374419"><th class="cellrowborder" valign="top" width="20.53%" id="mcps1.2.4.1.1"><p id="p6555193144417"><a name="p6555193144417"></a><a name="p6555193144417"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.770000000000001%" id="mcps1.2.4.1.2"><p id="p125551734448"><a name="p125551734448"></a><a name="p125551734448"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="63.7%" id="mcps1.2.4.1.3"><p id="p1755533204413"><a name="p1755533204413"></a><a name="p1755533204413"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row9558183144414"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p824618425365"><a name="p824618425365"></a><a name="p824618425365"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p3246194283614"><a name="p3246194283614"></a><a name="p3246194283614"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p228921325315"><a name="p228921325315"></a><a name="p228921325315"></a>监控维度名称，例如弹性云服务器的维度为instance_id。各服务维度请参考<a href="支持监控的服务列表.md">支持监控的服务列表</a>，可参考维度中key字段。</p>
    </td>
    </tr>
    <tr id="row19559235443"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p5547124122511"><a name="p5547124122511"></a><a name="p5547124122511"></a>value</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p19547154122519"><a name="p19547154122519"></a><a name="p19547154122519"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p193712032111612"><a name="p193712032111612"></a><a name="p193712032111612"></a>维度取值，例如弹性云服务器的ID。</p>
    <p id="p22011213201614"><a name="p22011213201614"></a><a name="p22011213201614"></a>长度最短为1，最大为256。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 7**  alarm\_actions字段数据结构说明

    <a name="table569133710159"></a>
    <table><thead align="left"><tr id="row758183741514"><th class="cellrowborder" valign="top" width="20.53%" id="mcps1.2.4.1.1"><p id="p75815379159"><a name="p75815379159"></a><a name="p75815379159"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.770000000000001%" id="mcps1.2.4.1.2"><p id="p12581537191518"><a name="p12581537191518"></a><a name="p12581537191518"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="63.7%" id="mcps1.2.4.1.3"><p id="p65818370158"><a name="p65818370158"></a><a name="p65818370158"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1565203771511"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p125751020181418"><a name="p125751020181418"></a><a name="p125751020181418"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p96443712157"><a name="p96443712157"></a><a name="p96443712157"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><div class="p" id="p56512371155"><a name="p56512371155"></a><a name="p56512371155"></a>告警通知类型，取值如下：<a name="ul14659377150"></a><a name="ul14659377150"></a><ul id="ul14659377150"><li>notification：通知。</li><li>autoscaling：弹性伸缩。</li></ul>
    </div>
    </td>
    </tr>
    <tr id="row367193716157"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p18668378158"><a name="p18668378158"></a><a name="p18668378158"></a>notificationList</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p66616375152"><a name="p66616375152"></a><a name="p66616375152"></a>Array of strings</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p167173715151"><a name="p167173715151"></a><a name="p167173715151"></a>告警状态发生变化时，被通知对象的列表。</p>
    <div class="note" id="note16816125412261"><a name="note16816125412261"></a><a name="note16816125412261"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p18161354152615"><a name="p18161354152615"></a><a name="p18161354152615"></a>被通知对象的ID列表的参数类型为字符串。</p>
    </div></div>
    </td>
    </tr>
    </tbody>
    </table>

    **表 8**  ok\_actions字段数据结构说明

    <a name="table1819115871510"></a>
    <table><thead align="left"><tr id="row18819195814154"><th class="cellrowborder" valign="top" width="20.53%" id="mcps1.2.4.1.1"><p id="p1581985818154"><a name="p1581985818154"></a><a name="p1581985818154"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.770000000000001%" id="mcps1.2.4.1.2"><p id="p1819125819158"><a name="p1819125819158"></a><a name="p1819125819158"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="63.7%" id="mcps1.2.4.1.3"><p id="p1181935841519"><a name="p1181935841519"></a><a name="p1181935841519"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row482075819154"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p3820558101519"><a name="p3820558101519"></a><a name="p3820558101519"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p1682015819157"><a name="p1682015819157"></a><a name="p1682015819157"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><div class="p" id="p68201858141515"><a name="p68201858141515"></a><a name="p68201858141515"></a>告警恢复触发告警通知类型，取值如下：<a name="ul108209583156"></a><a name="ul108209583156"></a><ul id="ul108209583156"><li>notification：通知。</li><li>autoscaling：弹性伸缩。</li></ul>
    </div>
    </td>
    </tr>
    <tr id="row9820115881519"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p182010585151"><a name="p182010585151"></a><a name="p182010585151"></a>notificationList</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p98201858151514"><a name="p98201858151514"></a><a name="p98201858151514"></a>Array of strings</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p9346141372110"><a name="p9346141372110"></a><a name="p9346141372110"></a>告警状态发生变化时，被通知对象的ID列表。</p>
    <div class="note" id="note1578161452512"><a name="note1578161452512"></a><a name="note1578161452512"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p19791914112518"><a name="p19791914112518"></a><a name="p19791914112518"></a>被通知对象的ID列表的参数类型为字符串。</p>
    </div></div>
    </td>
    </tr>
    </tbody>
    </table>

    **表 9**  condition字段数据结构说明

    <a name="table1473091124015"></a>
    <table><thead align="left"><tr id="row12731417403"><th class="cellrowborder" valign="top" width="20.53%" id="mcps1.2.4.1.1"><p id="p273141134017"><a name="p273141134017"></a><a name="p273141134017"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.770000000000001%" id="mcps1.2.4.1.2"><p id="p673151194014"><a name="p673151194014"></a><a name="p673151194014"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="63.7%" id="mcps1.2.4.1.3"><p id="p273171144015"><a name="p273171144015"></a><a name="p273171144015"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row17351511406"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p873512116408"><a name="p873512116408"></a><a name="p873512116408"></a>period</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p473515110403"><a name="p473515110403"></a><a name="p473515110403"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p1473517154015"><a name="p1473517154015"></a><a name="p1473517154015"></a>告警条件判断周期，单位为秒。</p>
    </td>
    </tr>
    <tr id="row573513194010"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p07357119405"><a name="p07357119405"></a><a name="p07357119405"></a>filter</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p167351915402"><a name="p167351915402"></a><a name="p167351915402"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p2735918404"><a name="p2735918404"></a><a name="p2735918404"></a>数据聚合方式，支持的聚合方式如下:</p>
    <a name="zh-cn_topic_0046434864_ul7891893153925"></a><a name="zh-cn_topic_0046434864_ul7891893153925"></a><ul id="zh-cn_topic_0046434864_ul7891893153925"><li>average：聚合周期内指标数据的平均值。</li><li>max：聚合周期内指标数据的最大值。</li><li>min：聚合周期内指标数据的最小值。</li><li>sum：聚合周期内指标数据的求和值。</li><li>variance：聚合周期内指标数据的方差。</li></ul>
    </td>
    </tr>
    <tr id="row19735111144010"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p373614194018"><a name="p373614194018"></a><a name="p373614194018"></a>comparison_operator</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p15736191144014"><a name="p15736191144014"></a><a name="p15736191144014"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p1073613104013"><a name="p1073613104013"></a><a name="p1073613104013"></a>告警阈值的比较条件，可以是&gt;、=、&lt;、&gt;=、&lt;=。</p>
    </td>
    </tr>
    <tr id="row11736131194014"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p177362134014"><a name="p177362134014"></a><a name="p177362134014"></a>value</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p87361817402"><a name="p87361817402"></a><a name="p87361817402"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p073611144017"><a name="p073611144017"></a><a name="p073611144017"></a>告警阈值。</p>
    </td>
    </tr>
    <tr id="row873611164014"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p177361174018"><a name="p177361174018"></a><a name="p177361174018"></a>unit</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p137369116403"><a name="p137369116403"></a><a name="p137369116403"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p197361919403"><a name="p197361919403"></a><a name="p197361919403"></a>数据的单位。</p>
    </td>
    </tr>
    <tr id="row1173614104018"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p157368134013"><a name="p157368134013"></a><a name="p157368134013"></a>count</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p1973711164020"><a name="p1973711164020"></a><a name="p1973711164020"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p273713184014"><a name="p273713184014"></a><a name="p273713184014"></a>触发告警连续发生次数。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 10**  meta\_data字段数据结构说明

    <a name="table1933614411408"></a>
    <table><thead align="left"><tr id="row23364419409"><th class="cellrowborder" valign="top" width="20.53%" id="mcps1.2.4.1.1"><p id="p33366416402"><a name="p33366416402"></a><a name="p33366416402"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.770000000000001%" id="mcps1.2.4.1.2"><p id="p163365419400"><a name="p163365419400"></a><a name="p163365419400"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="63.7%" id="mcps1.2.4.1.3"><p id="p5336149404"><a name="p5336149404"></a><a name="p5336149404"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1533794184019"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p103371641407"><a name="p103371641407"></a><a name="p103371641407"></a>count</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p133370434010"><a name="p133370434010"></a><a name="p133370434010"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p1933717404020"><a name="p1933717404020"></a><a name="p1933717404020"></a>当前返回结果条数。</p>
    </td>
    </tr>
    <tr id="row2305156104015"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p617265794014"><a name="p617265794014"></a><a name="p617265794014"></a>marker</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p1172957154015"><a name="p1172957154015"></a><a name="p1172957154015"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p1817211579405"><a name="p1817211579405"></a><a name="p1817211579405"></a>下一个开始的标记，用于分页。</p>
    <p id="p692093911581"><a name="p692093911581"></a><a name="p692093911581"></a>如本次查询10条数据，第十条为alarm_id为1441967036681YkazZ0deN，下次start配置为al1441967036681YkazZ0deN可从该alarm_id开始查询。</p>
    </td>
    </tr>
    <tr id="row13379417402"><td class="cellrowborder" valign="top" width="20.53%" headers="mcps1.2.4.1.1 "><p id="p333712424012"><a name="p333712424012"></a><a name="p333712424012"></a>total</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.770000000000001%" headers="mcps1.2.4.1.2 "><p id="p113375414010"><a name="p113375414010"></a><a name="p113375414010"></a>Integer</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.7%" headers="mcps1.2.4.1.3 "><p id="p233718413401"><a name="p233718413401"></a><a name="p233718413401"></a>结果总条数。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   响应样例

    ```
    {
        "metric_alarms": [
            {
                "alarm_name": "alarm-ttttttt",
                "alarm_description": "",
                "metric": {
                    "namespace": "SYS.ECS",
                    "dimensions": [
                        {
                            "name": "instance_id",
                            "value": "07814c0e-59a1-4fcd-a6fb-56f2f6923046"
                        }
                    ],
                    "metric_name": "cpu_util"
                },
                "condition": {
                    "period": 300,
                    "filter": "average",
                    "comparison_operator": ">=",
                    "value": 0,
                    "unit": "%",
                    "count": 3                
                },
                "alarm_enabled": true,
                "alarm_level": 2,
                "alarm_action_enabled": false,
                "alarm_id": "al15330507498596W7vmlGKL",
                "update_time": 1533050749992,
                "alarm_state": "alarm"
            },
            {
                "alarm_name": "alarm-m5rwxxxxxxx",
                "alarm_description": "",
                "metric": {
                    "namespace": "SYS.ECS",
                    "dimensions": [
                        {
                            "name": "instance_id",
                            "value": "30f3858d-4377-4514-9081-be5bdbf1392e"
                        }
                    ],
                    "metric_name": "network_incoming_bytes_aggregate_rate"
                },
                "condition": {
                    "period": 300,
                    "filter": "average",
                    "comparison_operator": ">=",
                    "value": 12,
                    "unit": "B/s",
                    "count": 3                
                },
                "alarm_enabled": true,
                "alarm_level": 2,
                "alarm_action_enabled": true,
                "alarm_actions": [
                    {
                        "type": "notification",
                        "notificationList": [
                            "urn:smn:region:68438a86d98e427e907e0097b7e35d48:test0315"
                        ]
                    }
                ],
                "ok_actions": [
                    {
                        "type": "notification",
                        "notificationList": [
                            "urn:smn:region:68438a86d98e427e907e0097b7e35d48:test0315"
                        ]
                    }
                ],            
                "alarm_id": "al1533031226533nKJexAlbq",
                "update_time": 1533204036276,
                "alarm_state": "ok"
            }
        ],
        "meta_data": {
            "count": 2,
            "marker": "al1533031226533nKJexAlbq",
            "total": 389
        }
    }
    ```


## 返回值<a name="section6956456"></a>

-   正常

    200

-   异常

    <a name="table46793998"></a>
    <table><thead align="left"><tr id="row65573909"><th class="cellrowborder" valign="top" width="36.449999999999996%" id="mcps1.1.3.1.1"><p id="p9886408"><a name="p9886408"></a><a name="p9886408"></a>返回值</p>
    </th>
    <th class="cellrowborder" valign="top" width="63.55%" id="mcps1.1.3.1.2"><p id="p62601592"><a name="p62601592"></a><a name="p62601592"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row37564172"><td class="cellrowborder" valign="top" width="36.449999999999996%" headers="mcps1.1.3.1.1 "><p id="p5034751391559"><a name="p5034751391559"></a><a name="p5034751391559"></a>400 Bad Request</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.55%" headers="mcps1.1.3.1.2 "><p id="p5161672091559"><a name="p5161672091559"></a><a name="p5161672091559"></a>请求错误。</p>
    </td>
    </tr>
    <tr id="row66248115"><td class="cellrowborder" valign="top" width="36.449999999999996%" headers="mcps1.1.3.1.1 "><p id="p4762558891559"><a name="p4762558891559"></a><a name="p4762558891559"></a>401 Unauthorized</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.55%" headers="mcps1.1.3.1.2 "><p id="p3246739491559"><a name="p3246739491559"></a><a name="p3246739491559"></a>未提供认证信息，或认证信息错误。</p>
    </td>
    </tr>
    <tr id="row44282627"><td class="cellrowborder" valign="top" width="36.449999999999996%" headers="mcps1.1.3.1.1 "><p id="p4641015691559"><a name="p4641015691559"></a><a name="p4641015691559"></a>403 Forbidden</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.55%" headers="mcps1.1.3.1.2 "><p id="p112628291559"><a name="p112628291559"></a><a name="p112628291559"></a>请求页面被禁止访问。</p>
    </td>
    </tr>
    <tr id="row1815156"><td class="cellrowborder" valign="top" width="36.449999999999996%" headers="mcps1.1.3.1.1 "><p id="p1575359891559"><a name="p1575359891559"></a><a name="p1575359891559"></a>408 Request Timeout</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.55%" headers="mcps1.1.3.1.2 "><p id="p97307991559"><a name="p97307991559"></a><a name="p97307991559"></a>请求超出了服务器的等待时间。</p>
    </td>
    </tr>
    <tr id="row25675773"><td class="cellrowborder" valign="top" width="36.449999999999996%" headers="mcps1.1.3.1.1 "><p id="p3828603291559"><a name="p3828603291559"></a><a name="p3828603291559"></a>429 Too Many Requests</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.55%" headers="mcps1.1.3.1.2 "><p id="p1416086091559"><a name="p1416086091559"></a><a name="p1416086091559"></a>当前请求过多。</p>
    </td>
    </tr>
    <tr id="row47530006"><td class="cellrowborder" valign="top" width="36.449999999999996%" headers="mcps1.1.3.1.1 "><p id="p5561134191559"><a name="p5561134191559"></a><a name="p5561134191559"></a>500 Internal Server Error</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.55%" headers="mcps1.1.3.1.2 "><p id="p822479291559"><a name="p822479291559"></a><a name="p822479291559"></a>请求未完成，服务异常。</p>
    </td>
    </tr>
    <tr id="row20561848"><td class="cellrowborder" valign="top" width="36.449999999999996%" headers="mcps1.1.3.1.1 "><p id="p2318494091559"><a name="p2318494091559"></a><a name="p2318494091559"></a>503 Service Unavailable</p>
    </td>
    <td class="cellrowborder" valign="top" width="63.55%" headers="mcps1.1.3.1.2 "><p id="p6604084791559"><a name="p6604084791559"></a><a name="p6604084791559"></a>系统暂时不可用，请求受限。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 错误码<a name="section121612204463"></a>

请参考[返回错误码说明](返回错误码说明.md)。

